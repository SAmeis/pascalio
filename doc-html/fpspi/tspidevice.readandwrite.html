<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>TSPIDevice.ReadAndWrite</title>
<link rel="stylesheet" href="../fpdoc.css" type="text/css">

</head>
<body>
<table class="bar" width="100%" border="0" cellpadding="4" cellspacing="0">
<tr>
<td><b>[<a href="../fpspi/index.html">Overview</a>][<a href="../fpspi/index-1.html">Resource strings</a>][<a href="../fpspi/index-2.html">Constants</a>][<a href="../fpspi/index-3.html">Types</a>][<a href="../fpspi/index-4.html">Classes</a>][<a href="../fpspi/index-8.html">Index</a>]</b></td>
<td align="right"><span class="bartitle">Reference for unit 'fpspi' (<a href="../index.html">#pascalio</a>)</span></td>
</tr>
</table>
<h1>TSPIDevice.ReadAndWrite</h1>
<p>Bidirectional read and write</p>
<h2>Declaration</h2>
<p>Source position: fpspi.pas line 78</p>
<table cellpadding="0" cellspacing="0">
<tr>
<td><p><tt><span class="code"> <span class="kw">public</span> <span class="kw">procedure</span> <a href="../fpspi/tspidevice.html">TSPIDevice</a><span class="sym">.</span>ReadAndWrite<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>aWriteBuffer<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;aWriteCount<span class="sym">: </span>LongInt<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">var </span>aReadBuffer<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;aReadCount<span class="sym">: </span>LongInt</span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">)</span><span class="sym">;</span><span class="kw"> virtual</span><span class="sym">;</span><span class="kw"> abstract</span><span class="sym">;</span></span></tt></p></td>
</tr>
</table>
<h2>Arguments</h2>
<table cellpadding="0" cellspacing="0">
<tr>
<td valign="top"><p><tt><span class="code">aWriteBuffer</span></tt></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Data written to the bus</p></td>
</tr>
<tr>
<td valign="top"><p><tt><span class="code">aWriteCount</span></tt></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Count of bytes in buffer</p></td>
</tr>
<tr>
<td valign="top"><p><tt><span class="code">aReadBuffer</span></tt></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Data received from the bus</p></td>
</tr>
<tr>
<td valign="top"><p><tt><span class="code">aReadCount</span></tt></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Maximum bytes read</p></td>
</tr>
</table>
<h2>Description</h2>
<p>This method allows simultanous read and write acces to the SPI bus.</p>
<p>The buffer sizes may not be equal.  If the write buffer is the smaller one, all futher bytes will be filled with zeroes. If the read buffer is the smaller one, more bytes may be read from the device but will not be reported back to the caller.</p>
<table class="remark" width="100%" border="0" CellSpacing="0">
<tr>
<td class="pre" valign="top"><b>Remark:   </b></td>
<td>Please check your SPI device's manual, if this behaviour is supported. Otherwise provide read and write buffers with the same length and handle them in your application's code.</td>
</tr>
</table>
<hr>

<span class="footer">Documentation generated on: 2020-05-22</span>
</body>
</html>
